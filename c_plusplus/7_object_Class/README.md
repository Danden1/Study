# 객체와 클래스

oop의 중요한 기능

- 추상화

- 캡슐화, 데이터 은닉

- 다형

- 상속

- 코드 재활용



class는 opp기능들을 구현하고 결합 하는데 사용되는 중요한 c++도구



## 추상화, 클래스

컴퓨터 에서 추상화는 정보를 사용자 인터페이스로 표현한 것.



### c++ 클래스

추상화를 사용자 정의 데이터 형으로 변환해주는 수단.

데이터 표현과 메서드들을 하나의 패키지 안에 결합



클래스 서술은 두 부분으로 나뉨

-선언 : 데이터 멤버, public 인터페이스, 멤버 함술르 이용하여 데이터 표현(개요 제공)

- 정의 : 멤버 함수가 어떻게 구현되는지.(세부사항)



특정 클래스의 객체를 사용하는 프로그램은 그 객체의 public 부분에 직접 접근 가능

프로그램은 public멤버 함수로만 private멤버에 접근 가능



데이터에 직접 접근하지 못하게 차단하는 것을 데이터 은닉이라 함.



public인터페이스는 설계의 추상화 나타냄.

세부적인 구현들을 따로 결합하여 추상화와 분리하는 것을 캡슐화라고 함



### 클래스 멤버 함수

일반 함수를 정의하는 것과 거의 같음



-멤버 함수가 어느 클래스에 속하는지 나타내기 위해 :: 사용

-클래스 메서드는 그 클래스의 private 부분에만 접근가능



클래스에 속해 있는 함수들은 ::사용하지 않고 서로 이용가능



class n{

int n1;

int n2;

public:    
  
  int sum(int a, int b);

}

int n::sum(int a, int b){....}





인라인 메서드

클래스 선언 안에 정의 가지고 있는 함수는 자동으로 인라인 됨. 짧은 멤버 함수에 대해 인라인함수 자주 이용


## 클래스 생성자, 파괴자

n num = {1,2}; //사용 불가

데이터 멤버들이 private라서 직접 접근 불가. 멤버함수 이용해 접근

public 이용하면 접근이 가능 하긴 함.



객체가 생성될 대 자동으로 초기화시키는 생성자라는 멤버 함수 제공



생성자의 이름은 클래스 이름과 같음.

N이라는 클래스 생성자는 N()이라는 이름의 멤버 함수



생성자에는 반환 데이터형 선언 x



### 생성자 정의선언



N(int num1, int num2); //생성자 원형

원형은 public부분에 들어감

//정의


N::N(int num1, int num2){ n1 = num1; n2 = num2;}

객체 생성지 자동으로 생성자 호출

일반적으로 멤버는 m_을 붙임(m_n1, m_n2)

혼란 방지



### 사용 법

N num = N(1,2) //N num(1,2);

N *p = new N(1,2);

### 디폴트 생성자

초기화 값 제공하지 않을 때 객체를 생성하는 데 사용하는 생성자

c++이 자동으로 디폴트 생성자 제공. 아무 일도 안함.



만약 디폴트가 아닌 생성자를 제공, 디폴트 생성자 제공 안하면 N num; //에러임

함수 오버로드등으로 매개변수 있는 생성자 하나 더 정의. N();

대개 디폴트 생성하는 모든 멤버에 대해 암시적으로 초기화 제공



### 파괴자

객체의 수명이 끝날 때 파괴자 멤버 함수 호출



~가 붙은 클래스 이름

생성자 처럼 리턴 값x

매개변수도 x

~N();

new 사용한 객체는 delete 호출시 파괴자 클래스를 초기화로 값 설정한느 게 효율적



const 멤버 함수

const N num(1,2);

num.sum(); //불가

sum()이 변경하지 않는 다는 보장이 없어서

함수 괄호 뒤에 const 집어넣으면 사용 가능

const멤버 함수라고 함.



## 객체, this 포인터

this포인터는 멤버 함수를 호출 하는 데 사용 된 객체 지시.

this 는 그 객체의 주소

*this가 객체 자체



## 객체 배열

일반 데이터 형의 사용 법이랑 거의 비슷

각각의 원소에 대해 생성자 호출해서 초기화 가능.

N num[2] = {N(1,2). N(2,3)};

이 방식은 처음에 디폴트 생성자를 사용하여 배열의 원소들 생성. 중괄호 안에 있는 생성자들이 임시 객체 생성, 배열원소에 복사

클래스 배열 생성하려면, 디폴트 생성자 필요



## 클래스 사용 범위

클래스 사용범위는 클래스 안에만 알려짐.

### 클래스 사용 범위 상수

class N{const int t = 10; //실패...

이유는 클래스를 생성하는 것은 객체의 모양을 나타내는 것. 생성하는 것은 아님.

값을 저장할 기억 공간은 객체 생성까지 마련되지 않음.



해결법 2가지

1. 클래스 안에 열거체 선언. 열거체는 클래스 사용범위 지정

class N{

enum{t=10};

...

클래스 데이터 멤버 생성 x

컴파일러는 t를 그냥 10으로 대체



2. static(최근)

class N{

static const int t = 10;

...

다른 정적 변수와 함께 저장되는 t상수 생성



